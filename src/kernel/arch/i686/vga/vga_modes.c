#include "vga_modes.h"

static const VGARegisters modesRegisters[] = {
    [VGA_320x200_LINEAR_256_COLOR_MODE] = { 
        // Attribute controller
        .palette = { 0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f }, 
        0x41, 0x00, 0x0f, 0x00, 0x00, 
        
        // Miscellaneous output register
        0x63, 
        
        // Sequencer registers
        0x03, 0x01, 0x0f, 0x00, 0x0E, 
        
        // Graphics controller registers
        0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x05, 0x0f, 0xff, 
        
        // CRT controller registers
        0x5f, 0x4f, 0x50, 0x82, 0x54, 0x80, 0xbf, 0x1f, 0x00, 0x41, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x9c, 0x0e, 0x8f, 0x28, 0x40, 0x96, 0xb9, 0xa3, 0xff },

        [VGA_80x25_TEXT_MODE] = { 
        // Attribute controller
        .palette = { 0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f }, 
        0x08, 0x00, 0x0f, 0x00, 0x00, 
        
        // Miscellaneous output register
        0x67, 
        
        // Sequencer registers
        0x03, 0x00, 0x03, 0x00, 0x02, 
        
        // Graphics controller registers
        0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x0e, 0x00, 0xff, 
        
        // CRT controller registers
        0x5f, 0x4f, 0x50, 0x82, 0x55, 0x81, 0xbf, 0x1f, 0x00, 0x4f, 0x0d, 0x0e, 0x00, 0x00, 0x00, 0x50, 0x9c, 0x0e, 0x8f, 0x28, 0x1f, 0x96, 0xb9, 0xa3, 0xff }
};

const VGARegisters* i686_VGA_GetRegisters(VGAMode mode) {
    return &modesRegisters[mode];
}